<template>
  <div>
    <div 
      v-if="introIsPlaying" 
      ref="wifiNameContainer"
      style="position: absolute;z-index:101; width:400px; left:-280px; top:-100px; height:200px;transform:translate(50vw, 50vh)">
      <svg 
        version="1.1" 
        xmlns="http://www.w3.org/2000/svg" 
        xmlns:xlink="http://www.w3.org/1999/xlink"             
        viewBox="0 0 322.96 100.83">
        <defs>
          <linearGradient 
            id="linear" 
            x1="0%" 
            y1="0%" 
            x2="100%" 
            y2="0%">
            <stop 
              offset="0%" 
              stop-color="#05a"/>
            <stop 
              offset="100%" 
              stop-color="#0a5"/>
          </linearGradient>
        </defs>
        
        <g fill="url(#linear)">      
          <path  
            ref="wLetter"                       
            d="M138.95,55.15l-10.46,29.47h-8.32l-4.98-17.64l-4.98,17.64h-8.35L91.38,55.15h9.29l5.33,19.1
			l4.98-19.1h8.35l4.98,19.1l5.33-19.1H138.95z M149.96,43.29c0,1.35-0.47,2.5-1.42,3.44c-0.95,0.95-2.09,1.42-3.44,1.42s-2.5-0.47-3.44-1.42
			c-0.95-0.95-1.42-2.09-1.42-3.44s0.47-2.49,1.42-3.44c0.95-0.95,2.09-1.42,3.44-1.42s2.49,0.47,3.44,1.42
			C149.48,40.79,149.96,41.94,149.96,43.29z M149.28,84.62h-8.38V55.15h8.38V84.62z M170.24,62.07h-5.36v22.56h-8.38V62.07h-3.72v-6.91h3.72v-8.82c0-4,0.88-7,2.64-8.99
			s4.41-2.99,7.97-2.99c0.47,0,0.99,0.03,1.57,0.09c0.58,0.06,1.1,0.15,1.57,0.26v7.38c-0.29-0.12-0.57-0.19-0.83-0.23
			c-0.26-0.04-0.61-0.06-1.04-0.06c-1.25,0-2.14,0.41-2.68,1.22c-0.54,0.81-0.81,2.12-0.81,3.94v8.2h5.36V62.07z M181.89,43.29c0,1.35-0.47,2.5-1.42,3.44c-0.95,0.95-2.09,1.42-3.44,1.42s-2.5-0.47-3.44-1.42
			c-0.95-0.95-1.42-2.09-1.42-3.44s0.47-2.49,1.42-3.44c0.95-0.95,2.09-1.42,3.44-1.42s2.5,0.47,3.44,1.42
			C181.42,40.79,181.89,41.94,181.89,43.29z M181.22,84.62h-8.38V55.15h8.38V84.62z M214.89,84.62h-8.41v-3.37c-0.86,1.43-1.96,2.5-3.29,3.24c-1.34,0.73-2.88,1.1-4.62,1.1
			c-4.04,0-7.3-1.46-9.79-4.39s-3.72-6.69-3.72-11.28c0-4.59,1.24-8.35,3.72-11.29s5.74-4.41,9.79-4.41c1.86,0,3.48,0.38,4.86,1.13
			s2.4,1.81,3.05,3.18V35.11h8.41V84.62z M206.48,69.92c0-2.32-0.62-4.28-1.86-5.87c-1.24-1.59-2.78-2.39-4.62-2.39
			s-3.36,0.79-4.58,2.37c-1.22,1.58-1.83,3.54-1.83,5.89s0.61,4.3,1.82,5.87s2.74,2.36,4.6,2.36s3.4-0.79,4.63-2.37
			S206.48,72.24,206.48,69.92zM246.96,69.86c0,0.72,0,1.26-0.01,1.61c-0.01,0.35-0.04,0.67-0.1,0.97h-20.21
			c0.41,1.88,1.21,3.39,2.4,4.56s2.55,1.74,4.07,1.74c1.31,0,2.49-0.33,3.56-1c1.06-0.66,1.86-1.57,2.39-2.72l6.74,3.37
			c-1.17,2.33-2.86,4.11-5.07,5.35s-4.82,1.86-7.85,1.86c-4.38,0-7.89-1.44-10.53-4.32c-2.65-2.88-3.97-6.68-3.97-11.41
			c0-4.41,1.38-8.13,4.13-11.13c2.75-3.01,6.15-4.51,10.2-4.51c4.2,0,7.63,1.48,10.28,4.42C245.63,61.59,246.96,65.33,246.96,69.86z
			 M238.64,67.28c-0.37-1.93-1.09-3.46-2.15-4.57c-1.07-1.11-2.35-1.67-3.85-1.67s-2.79,0.57-3.87,1.7
			c-1.07,1.13-1.79,2.65-2.14,4.54H238.64z M258.49,84.62h-8.41V35.11h8.41V84.62zM273.3,43.29c0,1.35-0.47,2.5-1.42,3.44c-0.95,0.95-2.09,1.42-3.44,1.42s-2.5-0.47-3.44-1.42
			c-0.95-0.95-1.42-2.09-1.42-3.44s0.47-2.49,1.42-3.44c0.95-0.95,2.09-1.42,3.44-1.42s2.5,0.47,3.44,1.42
			C272.82,40.79,273.3,41.94,273.3,43.29z M272.62,84.62h-8.38V55.15h8.38V84.62zM291.83,62.07h-4.13v22.56h-8.41V62.07h-3.31v-6.91h3.31v-9.52h8.41v9.52h4.13V62.07zM322.96,55.15l-16.49,45.06h-9.32l6.18-16.32l-11.16-28.74h9.32l6.12,18.98l6.06-18.98H322.96z
      M26.19,36.75c0,2.54-2.06,4.59-4.59,4.59l0,0c-2.54,0-4.59-2.06-4.59-4.59V28.5c0-2.54,2.06-4.59,4.59-4.59l0,0c2.54,0,4.59,2.06,4.59,4.59V36.75zM9.18,42.75c0,2.54-2.06,4.59-4.59,4.59l0,0C2.06,47.34,0,45.29,0,42.75V42.5c0-2.54,2.06-4.59,4.59-4.59l0,0c2.54,0,4.59,2.06,4.59,4.59V42.75z
      M44.55,34.22c0,2.54-2.06,4.59-4.59,4.59l0,0c-2.54,0-4.59-2.06-4.59-4.59V14.98c0-2.54,2.06-4.59,4.59-4.59l0,0c2.54,0,4.59,2.06,4.59,4.59V34.22z
      M62.92,52.75c0,2.54-2.06,4.59-4.59,4.59l0,0c-2.54,0-4.59-2.06-4.59-4.59V10.5c0-2.54,2.06-4.59,4.59-4.59l0,0c2.54,0,4.59,2.06,4.59,4.59V52.75z
      M81.29,61.75c0,2.54-2.06,4.59-4.59,4.59l0,0c-2.54,0-4.59-2.06-4.59-4.59V14.5c0-2.54,2.06-4.59,4.59-4.59l0,0c2.54,0,4.59,2.06,4.59,4.59V61.75z
      M99.66,43.94c0,2.54-2.06,4.59-4.59,4.59l0,0c-2.54,0-4.59-2.06-4.59-4.59V9.69c0-2.54,2.06-4.59,4.59-4.59l0,0c2.54,0,4.59,2.06,4.59,4.59V43.94z
      M114.33,18.84c0,2.54-2.06,4.59-4.59,4.59l0,0c-2.54,0-4.59-2.05-4.59-4.59V4.59c0-2.54,2.06-4.59,4.59-4.59l0,0c2.54,0,4.59,2.06,4.59,4.59V18.84z
      M128.36,9.16c0,2.54-2.06,4.59-4.59,4.59l0,0c-2.54,0-4.59-2.06-4.59-4.59V8.92c0-2.54,2.06-4.59,4.59-4.59l0,0c2.54,0,4.59,2.06,4.59,4.59V9.16z"/>        
      </g></svg>
    </div>
    <svg 
      v-if="introIsPlaying" 
      ref="panelsSvg"
      version="1.1" 
      xmlns="http://www.w3.org/2000/svg" 
      xmlns:xlink="http://www.w3.org/1999/xlink" 
      x="0px" 
      y="0px"      
      style="position:absolute; top:0; left:0; z-index:100"
      width="100%" 
      height="100%">     
      <rect 
        ref="introWhiteRec"
        width="100%"
        height="100%"
        fill="white"                          
      />
      <rect 
        ref="introBlackRec"
        width="100%"
        height="100%"
        fill="black"         
      />                 
    </svg>
  </div>
</template>

<script>
export default {
  data() {
    return {
      timeline: null,
      introIsPlaying: true
    }
  },
  mounted() {
    const introWhiteRec = this.$refs.introWhiteRec
    const introBlackRec = this.$refs.introBlackRec
    const wifiNameContainer = this.$refs.wifiNameContainer
    const that = this
    this.timeline = new TimelineLite({
      onComplete: function() {
        that.introIsPlaying = false
        that.$emit('introComplete')
      }
    })
    this.timeline
      .to(introBlackRec, 1, {
        scaleY: 0.1,
        ease: Expo.easeIn
      })
      .to(introBlackRec, 1, {
        scaleY: 1,
        scaleX: 0.2,
        ease: Expo.easeIn
      })
      .to(introBlackRec, 1, {
        scaleY: 0.2,
        scaleX: 1,
        yPercent: 80,
        ease: Expo.easeIn
      })
      .to(introBlackRec, 1, {
        scaleY: 1,
        yPercent: 0,
        ease: Expo.easeIn
      })
      .staggerTo(
        '#linear stop',
        4,
        {
          stopColor: '#05a',
          cycle: {
            stopColor: ['#dbe122', '#6d6f71', '#7d7f71', '#ecf122']
          }
        },
        0.1,
        0
      )
      .to(wifiNameContainer, 1, {
        scale: 1.5,
        ease: Elastic.easeInOut
      })
      .to(wifiNameContainer, 1, {
        rotation: 1080,
        scale: 500,
        skewY: '30deg'
      })
      .staggerTo(
        '#linear stop',
        4,
        {
          stopColor: '#05a',
          cycle: {
            stopColor: ['#ffffff']
          }
        },
        0.1,
        0
      )
      .to(introBlackRec, 1, {
        opacity: 0,
        ease: Expo.easeIn
      })
      .to(
        introWhiteRec,
        1,
        {
          opacity: 0,
          ease: Expo.easeIn
        },
        '-=1.0'
      )
      .to(
        wifiNameContainer,
        1,
        {
          opacity: 0,
          ease: Expo.easeIn
        },
        '-=1.0'
      )
  },
  methods: {}
}
</script>
